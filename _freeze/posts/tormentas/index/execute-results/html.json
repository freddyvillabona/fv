{
  "hash": "139c980d4c555228aa079f656c46404f",
  "result": {
    "markdown": "---\nexecute:\n  message: false\n  warning: false\n  fig-show: no\ntitle: \"Tormentas tropicales en el Océano Atlántico\"\nauthor: \"FV\"\ndate: \"2024-05-18\"\ncategories: [code, analysis]\nimage: \"tormenta.png\"\n---\n\n\nCiclones desde 2008 a 2022 - Datos: NOAA\n\n\n::: {.cell}\n\n```{.r .cell-code}\n{\n  library(\"tidyverse\")\n  library(\"showtext\")\n  library(\"ggtext\")\n  library(\"waffle\")\n  library(\"MetBrewer\")\n}\n\nstorms_df <- storms|> \n  filter(year >= 2008,\n         status %in% c(\"hurricane\", \"tropical depression\",\n                       \"tropical storm\",\"tropical wave\"))|> \n  count(year, status)\n\n\nstorms_df$status <-  gsub('hurricane','\\nHuracán\\n',storms_df$status)\nstorms_df$status <-  gsub('tropical depression','\\nDepresión tropical\\n',storms_df$status)\nstorms_df$status <-  gsub('tropical storm','\\nTormenta tropical\\n',storms_df$status)\nstorms_df$status <-  gsub('tropical wave','\\nOnda tropical\\n',storms_df$status)\n\n\nfont_add_google(\"Outfit\", \"title_font\")\nfont_add_google(\"Cabin\", \"body_font\")\nshowtext_auto()\n\ntitle_font <- \"title_font\"\nbody_font <- \"body_font\"\n\ntitle_text <- \"Tormentas tropicales en el Océano Atlántico\"\nsubtitle_text <- \"\"\ncaption_text <- \"Ciclones desde 2008 a 2022 - Datos: NOAA\"\n\nplot <- ggplot(storms_df, aes(fill = status, values = n)) +\n  geom_waffle(color = \"white\", size = .25, n_rows = 20, flip = TRUE, radius = unit(.5, \"pt\")) +\n  facet_wrap(~year, nrow = 1, strip.position = \"bottom\") +\n  scale_x_discrete() + \n  scale_y_continuous(labels = function(x) x * 10, # make this multiplyer the same as n_rows\n                     expand = c(0,0))+\n  \n  #MetBrewer::scale_fill_met_d(\"Hokusai2\", direction=1) +\n  scale_fill_manual(values=c(\"#154360\",\"red\",\"blue\",\"#D98880\")) +\n  \n  coord_equal()+\n  labs(title = title_text,\n       subtitle = subtitle_text,\n       caption = caption_text)+\n  theme_minimal()+\n  theme(\n    axis.title = element_blank(),\n    axis.text.x = element_text(family = body_font, size=12),\n    axis.text.y = element_text(family = body_font, size=12),\n    \n    # Legend\n    legend.position = \"top\",\n    legend.title = element_blank(),\n    legend.spacing = unit(0.5, 'cm'),\n    legend.key.height= unit(0.5, 'cm'),\n    legend.key.width= unit(0.7, 'cm'),\n    legend.text = element_text(family = body_font,\n                               size=13,\n                               face = 'plain',\n                               color = \"grey10\"),\n    \n    # TITLE\n    plot.title.position = \"plot\",\n    plot.title = element_textbox(margin = margin(20, 0, 10, 0),\n                                 size = 30,\n                                 family = title_font,\n                                 face = \"bold\",\n                                 width = unit(55, \"lines\")),\n    \n    # SUB-TITLE\n    plot.subtitle = element_text(margin = margin(10, 0, 20, 0),\n                                 size = 16,\n                                 family = body_font,\n                                 color = \"grey15\"),\n    # CAPTION\n    plot.caption = element_text(family=body_font,\n                                face=\"plain\",\n                                size=10, \n                                color=\"grey40\",\n                                hjust=.5,\n                                margin=margin(20,0,0,0)),\n    \n    plot.background = element_rect(color=\"white\", fill=\"white\"),\n    plot.margin = margin(20, 40, 20, 40)\n  )\n\n#plot\n```\n:::\n\n\n![](tormenta.png)\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}