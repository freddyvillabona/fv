---
execute:
  message: false
  warning: false
  fig-show: no
title: "CO2 emissions, GDP per capita and population by country - 2020"
author: "FV"
date: "2022-03-28"
categories: [code, analysis]
image: "image.svg"
---

Hace poco estuve visitando Roma, aprovechando los días libres de Semana Santa y regalándome el viaje por mi cumpleaños. No había estado antes en ningún lugar de Italia, pero desde antes de planear la visita tenía la impresión de que algo sabía de la ciudad. Había visto mapas, fotos de amigos viajeros y bastante material digital de los sitios más emblemáticos de la capital italiana.

La noche antes del vuelo no dormí prácticamente nada, pero me levanté de la cama con muy buena energía para emprender el viaje.

Llegando a Roma muy temprano, con mucho frío pero con una bienvenida cálida por parte del personal del aeropuerto, buongiorno, avanti, benvenuto, andiamo, allora, prego, grazie mile. Y aún no estaba claro, pero todavía quedaba una hora en tren desde el aeropuerto Leonardo Da Vinci hasta Roma.

Antes del mediodía estaba en el hotel, cerca del casco histórico, dejando mis tres cosas y saliendo inmediatamente a disfrutar de la ciudad. El clima parecía insuperable: un sol radiante, 17 grados centígrados, miles de personas caminando por todos lados, en especial por las calles angostas y coloridas. Era una locura y una belleza.

El clima estaba ideal para caminar, pero las calles estaban desbordadas de gente y no se podía avanzar con total comodidad. Un mar de gente recorría las principales avenidas, la gente hablando a los gritos y fumando con frecuencia. En todo momento parecía que un auto iba a arrollar a alguien, pero por fortuna no ocurría y todos coexistían en un caos que parecía normal.

Tenía hora pautada para visitar el coliseo, pero antes era el momento indicado para ir por un café, por una buena pizza o una buena pasta. Los camareros muy habilidosos, podían entender muy bien castellano, francés e inglés, con amabilidad y rapidez tenían en la mesa lo que el cliente deseara.

Se notaba la cara de felicidad de los turistas, sonriendo a carcajadas, haciendo fotos por todos lados y apreciando cada detalle de las maravillas de Roma. No faltaban las adversidades de los vendedores, \"tenga cuidado, hay carteristas robando a toda hora\".

La visita al coliseo romano es algo impresionante, hace transportar tu mente a un pasado del que poco sabes. El lugar transmite una energía fuerte. Encuentras a miles de personas haciendo fotos, leyendo su historia y apreciando cada detalle. Siempre están presentes las persona que te piden que les ayudes con una foto y en ese momento intentas hacer la mejor foto de tu vida para alegrar un poco el instante de 

Después de unas horas en Roma, cuando los ojos se acostumbran un poco al contraste del lugar, se comienza a notar el espíritu de trabajo de los locales, el ambiente fiestero por las noches y los lotes de basura en casa esquina. Roma es una ciudad bonita, con espacios bien cuidados, pero también sitios abandonados, con malos olores y sucios.

Después del viaje y ya en casa, he sentido  que desde mucho antes ya había estado en Roma y que tal vez un sueño, una película o parte de la imaginación, pero me queda la idea que antes había estado ahí.

Sin más. Volveré, Roma. 

```{r}
# Lib:
library("dplyr")
library("spData") 
library("hrbrthemes")
library("ggplot2")

# Dat:
s <- read.csv("s.csv")

# legend_size
legend_size <- c(5,6,7,8,9)

# Plot
plot <- ggplot(s, aes(gdpPercap, emissions)) +
  ggtitle("CO2 emissions, GDP per capita and population by country - 2020") +
  ylab("CO2 emissions (metric tonnes per person)") +
  xlab("GDP per capita") +
  geom_point(aes(size = pop, 
                 fill = Continente), 
             shape = 21, 
             alpha = 0.7) +
  scale_fill_viridis_d(
    guide = guide_legend(override.aes = list(size = 10))) +
  scale_size(range = c(0.1, 30),
             name="Población (mills.)",
             breaks = 30000 * c(250, 500, 750, 1000, 1250),
             labels = c("280", "560", "840", "1120", "1400"),
  ) +
  geom_text(aes(x = gdpPercap, y = emissions+1.5, label = country),
            color = "blue",
            data = filter(s, 
                          pop > 1000000000 | country %in% c("Norway",
                                                               "Singapore",
                                                               "Luxembourg",
                                                               "United States",
                                                               "Switzerland",
                                                               "Spain",
                                                               "Brazil",
                                                               "Japan",
                                                               "Qatar",
                                                               "Kuwait",
                                                               "Chile",
                                                               "Netherlands",
                                                               "Trinidad and Tobago",
                                                               "United Kingdom"))) +
  theme_ipsum(axis_title_size = 7) +
  theme(legend.position="bottom",
        legend.box = "vertical")

# plot
# :)
```

![](image.svg)
