plot.title.position = "plot",
plot.title = element_textbox(margin = margin(20, 0, 10, 0),
size = 30,
family = title_font,
face = "bold",
width = unit(55, "lines")),
# SUB-TITLE
plot.subtitle = element_text(margin = margin(10, 0, 20, 0),
size = 16,
family = body_font,
color = "grey15"),
# CAPTION
plot.caption = element_text(family=body_font,
face="plain",
size=10,
color="grey40",
hjust=.5,
margin=margin(20,0,0,0)),
plot.background = element_rect(color="white", fill="white"),
plot.margin = margin(20, 40, 20, 40)
)
plot
setwd("/Users/fv/Documents/R/ABRIL_2023/flexb")
setwd("/Users/fv/Documents/R/ABRIL_2023/ve_relieve")
library("rvest")
library('sf')
library("ggplot2")
library("tmap")
library("dplyr")
url <- "https://es.wikipedia.org/wiki/Anexo:Municipios_de_Venezuela_por_poblaci%C3%B3n_y_%C3%A1rea"
df <- url %>%
read_html() %>%
#html_element(".table.wikitable") %>%
#html_nodes(xpath='.mw-made-collapsible') %>%
html_table()
df1 <- df[[2]]
df1 <- df1[-1,]
df2 <- df[[3]]
df2 <- df2[-1,]
df3 <- df[[4]]
df3 <- df3[-1,]
df4 <- df[[5]]
df4 <- df4[-1,]
data <- rbind(df1,df2,df3,df4)
names (data)[5] = "Población"
names (data)[4] = "Estado"
data1 <- dplyr::filter(data, Estado=="Mérida")
library("stringr")
data1$Población <- str_replace_all(data1$Población,"\\s","")
data1$Población <- as.numeric(data1$Población)
map <- sf::read_sf('municipios/Municipios_Venezuela.shp')
map <- filter(map, ESTADO=="Mérida")
map <- map%>%
rename(Municipio=MUNICIPIO)
map <- map %>%
st_as_sf()
arg <- merge(map, data1, by="Municipio")
library("rvest")
library('sf')
library("ggplot2")
library("tmap")
library("dplyr")
names(map)
map <- sf::read_sf('Venezuela_Relieve.shp', options = "ENCODING=UTF8")
map2 <- map %>%
st_as_sf()
library(ggnewscale)
library(magrittr)
new_scale <- function(new_aes) {
structure(ggplot2::standardise_aes_names(new_aes), class = "new_aes")
}
arg$Capital <- gsub("Santa Cruz de Mora","Santa Cruz",arg$Capital)
arg$Capital <- gsub("Santa Elena de Arenales","Santa Elena",arg$Capital)
arg$Capital <- gsub("Santa María de Caparo","Santa María",arg$Capital)
arg$Capital <- gsub("Nueva Bolivia","N. Bolivia",arg$Capital)
arg$Capital <- gsub("Santo Domingo","Sto. Domingo",arg$Capital)
arg$Capital <- gsub("Pueblo Llano","P. Llano",arg$Capital)
arg <- arg %>%
st_as_sf()
Latitude  <- c(8.541703054366687)
Longitude <- c(-71.04643498278226)
dd <- cbind(Longitude,Latitude)
dd <- as.data.frame(dd)
geocode3 <- st_as_sf(dd, coords = c("Longitude", "Latitude"), crs = 4326)
Latitude  <- c(8.58222671556035)
Longitude <- c(-71.17035165170344)
dd <- cbind(Longitude,Latitude)
dd <- as.data.frame(dd)
geocode4 <- st_as_sf(dd, coords = c("Longitude", "Latitude"), crs = 4326)
Latitude  <- c(8.549462747945606)
Longitude <- c(-70.99583329559486)
dd <- cbind(Longitude,Latitude)
dd <- as.data.frame(dd)
humbolt <- st_as_sf(dd, coords = c("Longitude", "Latitude"), crs = 4326)
Latitude  <- c(8.52941511864418)
Longitude <- c(-71.09138899996957)
dd <- cbind(Longitude,Latitude)
dd <- as.data.frame(dd)
toro <- st_as_sf(dd, coords = c("Longitude", "Latitude"), crs = 4326)
# Táchira
Latitude  <- c(7.959781065765372, 7.5, 9.238377365943881, 9.290294694552877, 9.44002915698867, 7.28)
Longitude <- c(-72.06283527024073, -70.6665043767572, -72.3326351985961, -70.44181671729321, -71.48407131476853, -71.42)
Name <- c("Táchira","Barinas", "Zulia", "Trujillo", "Lago de \nMaracaibo", "Coordillera de Los Andes")
dd <- cbind(Longitude,Latitude, Name)
dd <- as.data.frame(dd)
tachira <- st_as_sf(dd, coords = c("Longitude", "Latitude"), crs = 4326)
map2 <- map2 %>%
mutate("Altitud" = Valor)
df <- data.frame(x1 = c(-70.99583329559486, -71.04647787849542, -71.09138899996957),
x2 = c(-70.5, -70.5, -70.5),
y1 = c(8.549462747945606, 8.541151929505485, 8.52941511864418),
y2 = c(8.2, 8, 7.8))
# Táchira
Latitude  <- c( 8.2, 8, 7.8)
Longitude <- c( -70.5, -70.5, -70.5 )
Name <- c("Pico Humbolt\n4.925 m s. n. m.","Pico Bolívar \n4.978 m s. n. m.", "Pico El Toro\n4755 m s. n. m.")
dd <- cbind(Longitude,Latitude, Name)
dd <- as.data.frame(dd)
picos <- st_as_sf(dd, coords = c("Longitude", "Latitude"), crs = 4326)
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72.6,-70 ) +
ylim(7.1,9.5) +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 0.00001, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027") +
new_scale("fill") +
geom_sf(data=arg, aes(fill= Población ) , show.legend = T, size = 0.00001, color="white", alpha=.5) +
# scale_fill_gradient2(low = "#D4E7DC",  mid = "#D4E7DC" ,high = "#02441E") +
scale_fill_viridis_c(alpha = .5, direction = -1, option = "plasma") +
geom_sf(data = geocode3, pch = 19, size=1.5, color = "white") +
# geom_sf(data = geocode4, pch = 19, size=2, color = "green") +
geom_sf(data = humbolt, pch = 19, size=1.5, color = "white") +
geom_sf(data = toro, pch = 19, size=1.5, color = "white") +
geom_sf_text(data= st_centroid(arg), aes(label =Capital),size=3) +
geom_sf_text(data= st_centroid(tachira), aes(label =Name), size=5) +
geom_sf_text(data= st_centroid(picos), aes(label =Name), size=3, hjust=0) +
geom_curve(aes(x = x1, y = y1, xend = x2, yend = y2), curvature = -0.2, lwd = .3, data = df) +
geom_segment(aes(x = -71.25,
y = 7.35,
xend = -71.60,
yend = 7.35),
linewidth = 2,
show.legend = NA,
col = "#7b4e44") +
theme(
plot.background=element_rect(fill="#EBEBEB", color="#EBEBEB"),
panel.background = element_blank(),
legend.background = element_rect(fill="#EBEBEB",
linewidth=0.5, linetype="solid"),
panel.grid = element_line(color="#EBEBEB"),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.text.x = element_blank(),
axis.title.y=element_blank(),
axis.text.y = element_blank(),
plot.title = element_text(size = 24, hjust = 1, face = "bold"),
plot.subtitle = element_text(size = 20)
)
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72.6,-70 ) +
ylim(7.1,9.5) +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 0.00001, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027") +
new_scale("fill") +
geom_sf(data=arg, aes(fill= Población ) , show.legend = T, size = 0.00001, color="white", alpha=.5) +
# scale_fill_gradient2(low = "#D4E7DC",  mid = "#D4E7DC" ,high = "#02441E") +
scale_fill_viridis_c(alpha = .5, direction = -1, option = "plasma") +
geom_sf(data = geocode3, pch = 19, size=1.5, color = "white") +
# geom_sf(data = geocode4, pch = 19, size=2, color = "green") +
geom_sf(data = humbolt, pch = 19, size=1.5, color = "white") +
geom_sf(data = toro, pch = 19, size=1.5, color = "white") +
geom_sf_text(data= st_centroid(arg), aes(label =Capital),size=3) +
geom_sf_text(data= st_centroid(tachira), aes(label =Name), size=5) +
geom_sf_text(data= st_centroid(picos), aes(label =Name), size=3, hjust=0) +
geom_curve(aes(x = x1, y = y1, xend = x2, yend = y2), curvature = -0.2, lwd = .3, data = df) +
geom_segment(aes(x = -71.25,
y = 7.35,
xend = -71.60,
yend = 7.35),
linewidth = 2,
show.legend = NA,
col = "#7b4e44") +
theme(
plot.background=element_rect(fill="#EBEBEB", color="#EBEBEB"),
panel.background = element_blank(),
legend.background = element_rect(fill="#EBEBEB",
linewidth=0.5, linetype="solid"),
panel.grid = element_line(color="#EBEBEB"),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.text.x = element_blank(),
axis.title.y=element_blank(),
axis.text.y = element_blank(),
plot.title = element_text(size = 24, hjust = 1, face = "bold"),
plot.subtitle = element_text(size = 20)
)
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72.6,-70 ) +
ylim(7.1,9.5) +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 0.00001, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027") +
new_scale("fill") +
geom_sf(data=arg, aes(fill= Población ) , show.legend = T, size = 0.00001, color="white", alpha=.5) +
# scale_fill_gradient2(low = "#D4E7DC",  mid = "#D4E7DC" ,high = "#02441E") +
scale_fill_viridis_c(alpha = .5, direction = -1, option = "plasma") +
geom_sf(data = geocode3, pch = 19, size=1.5, color = "white") +
# geom_sf(data = geocode4, pch = 19, size=2, color = "green") +
geom_sf(data = humbolt, pch = 19, size=1.5, color = "white") +
geom_sf(data = toro, pch = 19, size=1.5, color = "white") +
geom_sf_text(data= st_centroid(arg), aes(label =Capital),size=3) +
geom_sf_text(data= st_centroid(tachira), aes(label =Name), size=5) +
geom_sf_text(data= st_centroid(picos), aes(label =Name), size=3, hjust=0) +
geom_curve(aes(x = x1, y = y1, xend = x2, yend = y2), curvature = -0.2, lwd = .3, data = df) +
geom_segment(aes(x = -71.25,
y = 7.35,
xend = -71.60,
yend = 7.35),
linewidth = 2,
show.legend = NA,
col = "#7b4e44") +
theme(
plot.background=element_rect(fill="#EBEBEB", color="#EBEBEB"),
panel.background = element_blank(),
legend.background = element_rect(fill="#EBEBEB",
linewidth=0.5, linetype="solid"),
panel.grid = element_line(color="#EBEBEB"),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.text.x = element_blank(),
axis.title.y=element_blank(),
axis.text.y = element_blank(),
plot.title = element_text(size = 24, hjust = 1, face = "bold"),
plot.subtitle = element_text(size = 20)
)
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72.6,-70 ) +
ylim(7.1,9.5) +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 0.00001, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027")
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72.6,-70 ) +
ylim(7.1,9.5) +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 0.1, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027")
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72.6,-70 ) +
ylim(7.1,9.5) +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 0.3, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027")
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72.6,-70 ) +
ylim(7.1,9.5) +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 0.5, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027")
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72.6,-70 ) +
ylim(7.1,9.5) +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 0.5, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027") +
new_scale("fill") +
geom_sf(data=arg, aes(fill= Población ) , show.legend = T, size = 0.00001, color="white", alpha=.5) +
# scale_fill_gradient2(low = "#D4E7DC",  mid = "#D4E7DC" ,high = "#02441E") +
scale_fill_viridis_c(alpha = .5, direction = -1, option = "plasma")
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72.6,-70 ) +
ylim(7.1,9.5) +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 0.5, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027") +
new_scale("fill") +
geom_sf(data=arg, aes(fill= Población ) , show.legend = F, size = 0.00001, color="white", alpha=.5) +
# scale_fill_gradient2(low = "#D4E7DC",  mid = "#D4E7DC" ,high = "#02441E") +
scale_fill_viridis_c(alpha = .2, direction = -1, option = "plasma")
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72.6,-70 ) +
ylim(7.1,9.5) +
geom_sf(data=arg, aes(fill= Población ) , show.legend = F, size = 0.00001, color="white", alpha=.5) +
# scale_fill_gradient2(low = "#D4E7DC",  mid = "#D4E7DC" ,high = "#02441E") +
scale_fill_viridis_c(alpha = .2, direction = -1, option = "plasma") +
new_scale("fill") +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 0.5, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027")
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72.6,-70 ) +
ylim(7.1,9.5) +
geom_sf(data=arg, aes(fill= Población ) , show.legend = F, size = 0.00001, color="white", alpha=.5) +
# scale_fill_gradient2(low = "#D4E7DC",  mid = "#D4E7DC" ,high = "#02441E") +
scale_fill_viridis_c(alpha = .5, direction = -1, option = "plasma") +
new_scale("fill") +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 0.5, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027")
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72.6,-70 ) +
ylim(7.1,9.5) +
geom_sf(data=arg, aes(fill= Población ) , show.legend = F, size = 0.00001, color="white", alpha=.5) +
# scale_fill_gradient2(low = "#D4E7DC",  mid = "#D4E7DC" ,high = "#02441E") +
scale_fill_viridis_c(alpha = .8, direction = -1, option = "plasma") +
new_scale("fill") +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 0.5, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027")
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72.6,-70 ) +
ylim(7.1,9.5) +
geom_sf(data=arg, aes(fill= Población ) , show.legend = F, size = 0.00001, color="white", alpha=.5) +
# scale_fill_gradient2(low = "#D4E7DC",  mid = "#D4E7DC" ,high = "#02441E") +
scale_fill_viridis_c(alpha = .4, direction = -1, option = "plasma") +
new_scale("fill") +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 0.8, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027")
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72.6,-70 ) +
ylim(7.1,9.5) +
new_scale("fill") +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 0.8, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027") +
geom_sf(data=arg, aes(fill= Población ) , show.legend = F, size = 0.00001, color="white", alpha=.5) +
# scale_fill_gradient2(low = "#D4E7DC",  mid = "#D4E7DC" ,high = "#02441E") +
scale_fill_viridis_c(alpha = .4, direction = -1, option = "plasma")
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72,-70.5 ) +
ylim(7.5,9.3) +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 0.8, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027") +
new_scale("fill") +
geom_sf(data=arg, aes(fill= Población ) , show.legend = F, size = 0.00001, color="white", alpha=.5) +
# scale_fill_gradient2(low = "#D4E7DC",  mid = "#D4E7DC" ,high = "#02441E") +
scale_fill_viridis_c(alpha = .4, direction = -1, option = "plasma")
arg <- arg(n=1)
arg <- mutate(arg(n=1))
arg <- arg %>%
mutate((n=1))
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72,-70.5 ) +
ylim(7.5,9.3) +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 0.8, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027") +
new_scale("fill") +
geom_sf(data=arg, aes(fill= n ) , show.legend = F, size = 0.00001, color="white", alpha=.5) +
# scale_fill_gradient2(low = "#D4E7DC",  mid = "#D4E7DC" ,high = "#02441E") +
scale_fill_viridis_c(alpha = .4, direction = -1, option = "plasma")
View(arg)
arg <- arg %>%
mutate("n"=1)
View(arg)
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72,-70.5 ) +
ylim(7.5,9.3) +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 0.8, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027") +
new_scale("fill") +
geom_sf(data=arg, aes(fill= n ) , show.legend = F, size = 0.00001, color="white", alpha=.5) +
# scale_fill_gradient2(low = "#D4E7DC",  mid = "#D4E7DC" ,high = "#02441E") +
scale_fill_viridis_c(alpha = .4, direction = -1, option = "plasma")
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72,-70.5 ) +
ylim(7.5,9.3) +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 0.8, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027") +
new_scale("fill") +
geom_sf(data=arg, aes(fill= n ) , show.legend = F, size = 0.00001, color="white", alpha=.5) +
# scale_fill_gradient2(low = "#D4E7DC",  mid = "#D4E7DC" ,high = "#02441E") +
scale_fill_viridis_c(alpha = .4, direction = -1, option = "plasma")
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72,-70.5 ) +
ylim(7.5,9.3) +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 1, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027") +
new_scale("fill") +
geom_sf(data=arg, aes(fill= n ) , show.legend = F, size = 0.00001, color="white", alpha=.5) +
# scale_fill_gradient2(low = "#D4E7DC",  mid = "#D4E7DC" ,high = "#02441E") +
scale_fill_viridis_c(alpha = .2, direction = -1, option = "plasma")
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72,-70.5 ) +
ylim(7.5,9.3) +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 1, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027") +
new_scale("fill") +
geom_sf(data=arg, aes(fill= n ) , show.legend = F, size = 0.00001, color="white", alpha=.5) +
# scale_fill_gradient2(low = "#D4E7DC",  mid = "#D4E7DC" ,high = "#02441E") +
scale_fill_viridis_c(alpha = .2, direction = -1, option = "plasma") +
theme(
plot.background=element_rect(fill="#EBEBEB", color="#EBEBEB"),
panel.background = element_blank(),
legend.background = element_rect(fill="#EBEBEB",
linewidth=0.5, linetype="solid"),
panel.grid = element_line(color="#EBEBEB"),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.text.x = element_blank(),
axis.title.y=element_blank(),
axis.text.y = element_blank(),
plot.title = element_text(size = 24, hjust = 1, face = "bold"),
plot.subtitle = element_text(size = 20)
)
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72,-70.5 ) +
ylim(7.5,9.3) +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 1, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027") +
new_scale("fill") +
geom_sf(data=arg, aes(fill= n ) , show.legend = F, size = 0.00001, color="white", alpha=.5) +
# scale_fill_gradient2(low = "#D4E7DC",  mid = "#D4E7DC" ,high = "#02441E") +
scale_fill_viridis_c(alpha = .2, direction = -1, option = "plasma") +
geom_sf_text(data= st_centroid(arg), aes(label =Capital),size=1) +
theme(
plot.background=element_rect(fill="#EBEBEB", color="#EBEBEB"),
panel.background = element_blank(),
legend.background = element_rect(fill="#EBEBEB",
linewidth=0.5, linetype="solid"),
panel.grid = element_line(color="#EBEBEB"),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.text.x = element_blank(),
axis.title.y=element_blank(),
axis.text.y = element_blank(),
plot.title = element_text(size = 24, hjust = 1, face = "bold"),
plot.subtitle = element_text(size = 20)
)
ggplot() +
ggtitle("Mérida, Venezuela \n") +
xlab("") +
ylab("") +
xlim(-72,-70.5 ) +
ylim(7.5,9.3) +
geom_sf(data = map2, aes(fill= Altitud) , show.legend = T, size = 1, color=NA ) +
scale_fill_gradient2(low = "yellow", high = "#6b3027") +
new_scale("fill") +
geom_sf(data=arg, aes(fill= n ) , show.legend = F, size = 0.00001, color="white", alpha=.5) +
# scale_fill_gradient2(low = "#D4E7DC",  mid = "#D4E7DC" ,high = "#02441E") +
scale_fill_viridis_c(alpha = .2, direction = -1, option = "plasma") +
geom_sf_text(data= st_centroid(arg), aes(label =Capital),size=1) +
theme(
plot.background=element_rect(fill="#EBEBEB", color="#EBEBEB"),
panel.background = element_blank(),
legend.background = element_rect(fill="#EBEBEB",
linewidth=0.5, linetype="solid"),
panel.grid = element_line(color="#EBEBEB"),
axis.ticks=element_blank(),
axis.title.x=element_blank(),
axis.text.x = element_blank(),
axis.title.y=element_blank(),
axis.text.y = element_blank(),
plot.title = element_text(size = 24, hjust = 1, face = "bold"),
plot.subtitle = element_text(size = 20)
)
setwd("/Users/fv/Documents/fv/fv")
#| label: fig-polar
#| fig-cap: "A line plot on a polar axis"
import numpy as np
reticulate::repl_python()
reticulate::repl_python()
